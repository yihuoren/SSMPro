webpackJsonp([4],{"bKG+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l={name:"batchmanagement",data:function(){return{tableData:[],cur_page:1,pageCount:0,multipleSelection:[],select_word:"",select_title:"",select_time:"",is_search:!1,del_list:[],editVisible:!1,delVisible:!1,form:{title:"",timespan:"",image:""},idx:-1}},created:function(){this.getData()},computed:{data:function(){var t=this;return this.tableData.filter(function(e){for(var i=!1,l=0;l<t.del_list.length;l++)if(e.title===t.del_list[l].title){i=!0;break}if(!i&&e.title.indexOf(t.select_title)>-1&&e.timespan.indexOf(t.select_time)>-1&&(e.title.indexOf(t.select_word)>-1||e.timespan.indexOf(t.select_word)>-1))return e})}},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){console.log(this.nameSearch),this.$axios.get("http://localhost:8080/login/getList").then(function(t){var e=t.data;console.log(e)}).catch(function(t){console.log(t)})},search:function(){this.is_search=!0},formatter:function(t,e){return"2018-02-27"},handleSelectionChange:function(t){this.multipleSelection=t},delAll:function(){var t=this.multipleSelection.length,e="";this.del_list=this.del_list.concat(this.multipleSelection);for(var i=0;i<t;i++)e+=this.multipleSelection[i].title+" ";""==e?this.$message.error("请选择要删除的选项"):this.$message.error("删除了"+e),this.multipleSelection=[]},handleDelete:function(t,e){this.idx=t,this.delVisible=!0},deleteRow:function(){this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1},handleEdit:function(t,e){this.idx=t;var i=this.tableData[t];this.form={title:i.title,timespan:i.timespan,image:i.image},this.editVisible=!0},saveEdit:function(){this.$set(this.tableData,this.idx,this.form),this.editVisible=!1,this.$message.success("修改第 "+(this.idx+1)+" 行成功")}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"batch-management"},[i("div",{staticClass:"handle-box"},[i("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:t.delAll}},[t._v("批量删除")]),t._v(" "),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),t._v(" "),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入文章标题"},model:{value:t.select_title,callback:function(e){t.select_title=e},expression:"select_title"}}),t._v(" "),i("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"请输入时间"},model:{value:t.select_time,callback:function(e){t.select_time=e},expression:"select_time"}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),i("el-table",{ref:"multipleTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.data,border:""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"文章标题",width:"auto",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"timespan",label:"课程时长",formatter:t.formatter,width:"auto",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"image",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.image,"min-width":"70",height:"70"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"","page-count":t.pageCount,layout:"prev, pager, next"},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"50px"}},[i("el-form-item",{attrs:{label:"时长"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.form.timespan,callback:function(e){t.$set(t.form,"timespan",e)},expression:"form.timespan"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"标题"}},[i("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"图片"}},[i("img",{attrs:{src:t.form.image,"min-width":"70",height:"70"}})])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[i("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var s=i("VU/8")(l,a,!1,function(t){i("w1Rh")},"data-v-32b7b4a6",null);e.default=s.exports},w1Rh:function(t,e){}});
//# sourceMappingURL=4.1bfb7c5f0fa91bb800bb.js.map